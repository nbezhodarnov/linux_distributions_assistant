{% extends 'distributions_list/layout.html' %}
{% load static %}

{% block title %}
	Список дистрибуитивов
{% endblock %}

{% block extra-link %}
	<link rel="stylesheet" href="{% static 'distributions_list/css/distributions_list.css' %}">
	<!--Plugin CSS file with desired skin-->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ion-rangeslider/2.3.1/css/ion.rangeSlider.min.css"/>
	<!--jQuery-->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<!--Plugin JavaScript file-->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ion-rangeslider/2.3.1/js/ion.rangeSlider.min.js"></script>
{% endblock %}

{% block panel-right %}
	{% if user and user.username %}
		<h5>{{ user.username }}</h5>
		<a class="btn btn-outline-primary" href="/accounts/logout">Выйти</a>
	{% else %}
		<a class="btn btn-outline-primary" href="/accounts/login">Вход</a>
		<a class="btn btn-outline-primary" href="/accounts/register">Регистрация</a>
	{% endif %}
{% endblock %}

{% block content %}
	<div class="features">
		<h1>Критерии дистрибутива</h1>
		<div class="input-body">
			{% for slide in criteries.slides %}
				<div class="slide">
					<h3>{{ slide.name }}</h3>
					<input id="{{ slide.id }}" type="text" name="" value="" class="slide irs-hidden-input" tabindex="-1" readonly="">
				</div>
			{% endfor %}
			<button type="button" class="btn btn-primary">Показать</button>
		</div>
		<h1>Список дистрибуитивов</h1>
		{% if dists %}
			{% for el in dists %}
				<div class="alert alert-warning">
					<h3>{{ el.name }}</h3>
					<p>{{ el.short_info }}</p>
					<a href="{% url 'dist-detail' el.id %}" class="btn btn-warning">Смотреть подробнее</a>
				</div>
			{% endfor %}
		{% else %}
			<p>К сожалению, не было найдено дистрибутивов, соответствующих вашим требованиям(</p>
		{% endif %}
	</div>
{% endblock %}

{% block extra-js%}
	<script type="text/javascript">
		$( function() {
			{% for slide in criteries.slides %}
				$("#{{ slide.id }}").ionRangeSlider({
					type: "double",
					grid: true,
					grid_num: 5,
					min: 0,
					max: 5,
					from: 0,
					to: 5
				});
			{% endfor %}
		});
	</script>
{% endblock %}
